
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Configuration steps for the D2 Atlas Gradle plugin">
      
      
        <meta name="author" content="Jon Poulton">
      
      
        <link rel="canonical" href="https://jonapoul.github.io/atlas-gradle-plugin/usage-d2/">
      
      
        <link rel="prev" href="../usage-graphviz/">
      
      
        <link rel="next" href="../usage-mermaid/">
      
      
        
      
      
      <link rel="icon" href="../site-assets/img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>D2 - Atlas</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#d2-usage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Atlas" class="md-header__button md-logo" aria-label="Atlas" data-md-component="logo">
      
  <img src="../site-assets/img/atlas.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Atlas
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              D2
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="red"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="red"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/jonapoul/atlas-gradle-plugin" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    jonapoul/atlas-gradle-plugin
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Atlas" class="md-nav__button md-logo" aria-label="Atlas" data-md-component="logo">
      
  <img src="../site-assets/img/atlas.png" alt="logo">

    </a>
    Atlas
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jonapoul/atlas-gradle-plugin" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    jonapoul/atlas-gradle-plugin
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Usage
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Usage
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage-common/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Common
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage-graphviz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Graphviz
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    D2
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    D2
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generated-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Generated files
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        Properties
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Properties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#animateinterval" class="md-nav__link">
    <span class="md-ellipsis">
      
        animateInterval
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#animatelinks" class="md-nav__link">
    <span class="md-ellipsis">
      
        animateLinks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#center" class="md-nav__link">
    <span class="md-ellipsis">
      
        center
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#direction" class="md-nav__link">
    <span class="md-ellipsis">
      
        direction
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fileformat" class="md-nav__link">
    <span class="md-ellipsis">
      
        fileFormat
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grouplabellocation-grouplabelposition" class="md-nav__link">
    <span class="md-ellipsis">
      
        groupLabelLocation &amp; groupLabelPosition
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pad" class="md-nav__link">
    <span class="md-ellipsis">
      
        pad
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pathtod2command" class="md-nav__link">
    <span class="md-ellipsis">
      
        pathToD2Command
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sketch" class="md-nav__link">
    <span class="md-ellipsis">
      
        sketch
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#theme-themedark" class="md-nav__link">
    <span class="md-ellipsis">
      
        theme &amp; themeDark
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Functions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layoutengine" class="md-nav__link">
    <span class="md-ellipsis">
      
        layoutEngine
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rootstyle" class="md-nav__link">
    <span class="md-ellipsis">
      
        rootStyle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#globalprops" class="md-nav__link">
    <span class="md-ellipsis">
      
        globalProps
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage-mermaid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mermaid
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../samples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Samples
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generated-files" class="md-nav__link">
    <span class="md-ellipsis">
      
        Generated files
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#properties" class="md-nav__link">
    <span class="md-ellipsis">
      
        Properties
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Properties">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#animateinterval" class="md-nav__link">
    <span class="md-ellipsis">
      
        animateInterval
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#animatelinks" class="md-nav__link">
    <span class="md-ellipsis">
      
        animateLinks
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#center" class="md-nav__link">
    <span class="md-ellipsis">
      
        center
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#direction" class="md-nav__link">
    <span class="md-ellipsis">
      
        direction
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fileformat" class="md-nav__link">
    <span class="md-ellipsis">
      
        fileFormat
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grouplabellocation-grouplabelposition" class="md-nav__link">
    <span class="md-ellipsis">
      
        groupLabelLocation &amp; groupLabelPosition
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pad" class="md-nav__link">
    <span class="md-ellipsis">
      
        pad
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pathtod2command" class="md-nav__link">
    <span class="md-ellipsis">
      
        pathToD2Command
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sketch" class="md-nav__link">
    <span class="md-ellipsis">
      
        sketch
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#theme-themedark" class="md-nav__link">
    <span class="md-ellipsis">
      
        theme &amp; themeDark
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Functions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#layoutengine" class="md-nav__link">
    <span class="md-ellipsis">
      
        layoutEngine
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rootstyle" class="md-nav__link">
    <span class="md-ellipsis">
      
        rootStyle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#globalprops" class="md-nav__link">
    <span class="md-ellipsis">
      
        globalProps
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="d2-usage">D2 Usage<a class="headerlink" href="#d2-usage" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>See <a href="https://d2lang.com/tour/intro/">here for the official D2 docs</a> or <a href="https://play.d2lang.com/">here for an online playground</a>. Using and executing the D2 plugin requires an existing installation of the <code>d2</code> executable on the system PATH. If it's not on the PATH, you can use the <a href="#pathtod2command"><code>pathToD2Command</code></a> config option.</p>
<p><a href="https://d2lang.com/tour/install/">See here for D2 installation steps</a>.</p>
<p>D2-specific configuration is performed from the <code>d2 { }</code> block within the base <code>atlas</code> extension function:</p>
<div class="highlight"><pre><span></span><code><span class="n">plugins</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">id</span><span class="p">(</span><span class="s">&quot;dev.jonpoulton.atlas.d2&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="s">&quot;x.y.z&quot;</span>
<span class="p">}</span>

<span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// other Atlas config - see common usage docs</span>

<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">animateInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">10</span>
<span class="w">    </span><span class="n">animateLinks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="n">center</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="n">direction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Direction</span><span class="p">.</span><span class="na">Down</span>
<span class="w">    </span><span class="n">fileFormat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FileFormat</span><span class="p">.</span><span class="na">Svg</span>
<span class="w">    </span><span class="n">groupLabelLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Location</span><span class="p">.</span><span class="na">Inside</span>
<span class="w">    </span><span class="n">groupLabelPosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Position</span><span class="p">.</span><span class="na">TopCenter</span>
<span class="w">    </span><span class="n">layoutEngine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LayoutEngine</span><span class="p">.</span><span class="na">Dagre</span>
<span class="w">    </span><span class="n">pad</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>
<span class="w">    </span><span class="n">pathToD2Command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/path/to/d2&quot;</span>
<span class="w">    </span><span class="n">sketch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="n">theme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Theme</span><span class="p">.</span><span class="na">ColorblindClear</span>
<span class="w">    </span><span class="n">themeDark</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Theme</span><span class="p">.</span><span class="na">DarkMauve</span>

<span class="w">    </span><span class="n">rootStyle</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">globalProps</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">layoutEngine</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="generated-files">Generated files<a class="headerlink" href="#generated-files" title="Permanent link">&para;</a></h2>
<p>The D2 plugin will generate a <code>classes.d2</code> file in the root project's <code>atlas</code> folder. This contains any shared styling, used between all child charts. It will also generate a <code>chart.d2</code> and a <code>chart.XXX</code> file for each subproject, the latter's file extension depending on <a href="#fileformat">fileFormat</a>.</p>
<h2 id="properties">Properties<a class="headerlink" href="#properties" title="Permanent link">&para;</a></h2>
<h3 id="animateinterval">animateInterval<a class="headerlink" href="#animateinterval" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">animateInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Only used if <a href="#fileformat">fileFormat</a> is set to <code>FileFormat.Gif</code>.</p>
<h3 id="animatelinks">animateLinks<a class="headerlink" href="#animatelinks" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">animateLinks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>When enabled, links between all project nodes will be animated, as long as they aren't solidly-styled. Disabled by default.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This will only work for "animatable" <a href="#fileformat">output formats</a>: either SVG or GIF. If you choose a different output, you'll get a Gradle warning to tell you about it when syncing the IDE.</p>
</div>
<div class="side-by-side">
  <figure>
    <img src="../img/d2-animateLinks-disabled.svg" alt="Disabled">
    <figcaption>Disabled</figcaption>
  </figure>

  <figure>
    <img src="../img/d2-animateLinks-enabled.svg" alt="Enabled">
    <figcaption>Enabled</figcaption>
  </figure>
</div>

<h3 id="center">center<a class="headerlink" href="#center" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">center</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>This flag centers the SVG within the containing viewbox. Doesn't really give an obvious change in me experience, but ¯_(ツ)_/¯. <a href="https://d2lang.com/tour/vars/#configuration-variables">See here</a>.</p>
<h3 id="direction">direction<a class="headerlink" href="#direction" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">direction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Direction</span><span class="p">.</span><span class="na">Down</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Sets the flow direction of the dependency chart. Defaults to <code>Direction.Down</code>.</p>
<div class="svg-grid">
  <figure class="svg-item">
    <img src="../img/d2-direction-up.svg" alt="Up">
    <figcaption>Direction.Up</figcaption>
  </figure>

  <figure class="svg-item">
    <img src="../img/d2-direction-down.svg" alt="Down">
    <figcaption>Direction.Down</figcaption>
  </figure>

  <figure class="svg-item">
    <img src="../img/d2-direction-left.svg" alt="Left">
    <figcaption>Direction.Left</figcaption>
  </figure>

  <figure class="svg-item">
    <img src="../img/d2-direction-right.svg" alt="Right">
    <figcaption>Direction.Right</figcaption>
  </figure>
</div>

<h3 id="fileformat">fileFormat<a class="headerlink" href="#fileformat" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">fileFormat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FileFormat</span><span class="p">.</span><span class="na">Svg</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Defaults to SVG. Available options:</p>
<div class="highlight"><pre><span></span><code><span class="n">FileFormat</span><span class="p">.</span><span class="na">Svg</span>
<span class="n">FileFormat</span><span class="p">.</span><span class="na">Png</span>
<span class="n">FileFormat</span><span class="p">.</span><span class="na">Pdf</span>
<span class="n">FileFormat</span><span class="p">.</span><span class="na">Pptx</span>
<span class="n">FileFormat</span><span class="p">.</span><span class="na">Gif</span>
<span class="n">FileFormat</span><span class="p">.</span><span class="na">Ascii</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Only SVG and ASCII outputs can be run on all (known?) machines without further supporting software. On my dev machine at least, trying to run PNG, PDR, PPTX or GIF output causes an automatic download attempt of Chromium. This is because D2 depends on <a href="https://playwright.dev/docs/intro">PlayWright</a> to do the conversion. Annoyingly, D2 will try to start the download/install without asking first... <a href="https://github.com/terrastruct/d2/issues/2502#issuecomment-3305144085">See here for other people complaining about this</a>.</p>
</div>
<p>For reference, an ASCII chart looks like below. It (hopefully obviously) doesn't support more complex features like coloring, animation, etc. It is pretty cool though!</p>
<div class="highlight"><pre><span></span><code>      ┌─────────────┐
      │:android:app │
      │             │
      └─────────────┘
           │   │
      ┌────┘   └───────┐
      │                │
      │                ▼
      │          ┌────────────┐
      │          │:kotlin:kmp │
      │          │            │
      │          └────────────┘
      │             │  │   │
      │   ┌─────────┘  │   └───┐
      │   │            │       │
      ▼   ▼            ▼       │
 ┌─────────────┐ ┌──────┐      │
 │:android:lib │ │:java │      │
 │             │ │      │      │
 └─────────────┘ └──────┘      │
      │   │          │         │
      │   └──────────│─────┐   │
      │              │     │   │
      └─────┐  ┌─────┘     │   │
            │  │           │   │
            ▼  ▼           ▼   ▼
         ┌───────┐     ┌────────────┐
         │:other │     │:kotlin:jvm │
         │       │     │            │
         └───────┘     └────────────┘
</code></pre></div>
<h3 id="grouplabellocation-grouplabelposition">groupLabelLocation &amp; groupLabelPosition<a class="headerlink" href="#grouplabellocation-grouplabelposition" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">groupProjects</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>

<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">groupLabelLocation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Location</span><span class="p">.</span><span class="na">Outside</span>
<span class="w">    </span><span class="n">groupLabelPosition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Position</span><span class="p">.</span><span class="na">TopCenter</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Only does anything if <code>atlas.groupProjects = true</code>.</p>
<div class="svg-grid">
  <figure class="svg-item">
    <img src="../img/d2-groupLabel-border-left.svg" alt="Border center left">
    <figcaption>Border center left</figcaption>
  </figure>

  <figure class="svg-item">
    <img src="../img/d2-groupLabel-inside-bottomright.svg" alt="Inside bottom right">
    <figcaption>Inside bottom right</figcaption>
  </figure>

  <figure class="svg-item">
    <img src="../img/d2-groupLabel-outside-bottomcenter.svg" alt="Outside bottom center">
    <figcaption>Outside bottom center</figcaption>
  </figure>

  <figure class="svg-item">

  </figure>
</div>

<h3 id="pad">pad<a class="headerlink" href="#pad" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">pad</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Should probably be called <code>padding</code> for clarity, but kept as <code>pad</code> for consistency with the underlying D2 config parlance. Units are in pixels, and default value is 100.</p>
<div class="side-by-side">
  <figure>
    <img src="../img/d2-pad-0.svg" alt="0">
    <figcaption>0 padding</figcaption>
  </figure>

  <figure>
    <img src="../img/d2-pad-200.svg" alt="200">
    <figcaption>200 padding</figcaption>
  </figure>
</div>

<h3 id="pathtod2command">pathToD2Command<a class="headerlink" href="#pathtod2command" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">pathToD2Command</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;/custom/path/to/d2&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>By default, Atlas will try to call <code>d2</code> from the system path. Use this to call from a custom installation directory instead.</p>
<h3 id="sketch">sketch<a class="headerlink" href="#sketch" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">sketch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Draws the chart in an excalidraw-like format, with pseudo-handwritten font and shaded backgrounds on shapes. Defaults to false.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For awareness: enabling this property will inflate the size of the generated SVG file by a factor of ~4.5: the example below is 71kB, and disabling the flag drops it down to 15kB. It does look pretty nice, though.</p>
</div>
<p><img alt="D2 sketch" src="../img/d2-sketch.svg" /></p>
<h3 id="theme-themedark">theme &amp; themeDark<a class="headerlink" href="#theme-themedark" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">theme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Theme</span><span class="p">.</span><span class="na">ShirleyTemple</span>
<span class="w">    </span><span class="n">themeDark</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Theme</span><span class="p">.</span><span class="na">DarkMauve</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>D2 comes with a suite of lovely built-in color schemes which you can apply to your charts. If you generate an SVG, you can also apply a separate dark theme to allow the file to support browsers in both dark and light screen display modes. Alternatively, you can specify one of the two dark themes in the <code>theme</code> parameter to force an always-dark theme, regardless of website/browser settings.</p>
<p><a href="https://d2lang.com/tour/themes/">See here for the full list of themes</a> in the D2 documentation. Some examples are shown below, where the bottom-right one will toggle between light and dark based on the browser theme. Try switching the theme from the site toolbar (or change in your browser's settings) to see!</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>If you set a specific color for a project type using the <code>projectTypes</code> API, it will overwrite the theme color for that node. Same for link colors.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Remember also that you can override the chart's background color using <a href="#rootstyle">rootStyle's</a> <code>fill</code> property.</p>
</div>
<div class="svg-grid">
  <figure class="svg-item">
    <img src="../img/d2-theme-default.svg" alt="Default">
    <figcaption>Default</figcaption>
  </figure>
  <figure class="svg-item">
    <img src="../img/d2-theme-shirley.svg" alt="Shirley Temple">
    <figcaption>Shirley Temple</figcaption>
  </figure>
  <figure class="svg-item">
    <img src="../img/d2-theme-darkmauve.svg" alt="Dark Mauve">
    <figcaption>Dark Mauve</figcaption>
  </figure>
  <figure class="svg-item">
    <img src="../img/d2-theme-both.svg" alt="Light/Dark">
    <figcaption>Aubergine / Dark Flagship Terrastruct</figcaption>
  </figure>
</div>

<h2 id="functions">Functions<a class="headerlink" href="#functions" title="Permanent link">&para;</a></h2>
<h3 id="layoutengine">layoutEngine<a class="headerlink" href="#layoutengine" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">layoutEngine</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// only call one of the below config functions!</span>
<span class="w">      </span><span class="c1">// if you call multiple, only the last one will be used.</span>
<span class="w">      </span><span class="n">dagre</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">nodeSep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">60</span>
<span class="w">        </span><span class="n">edgeSep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="n">elk</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">algorithm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ElkAlgorithm</span><span class="p">.</span><span class="na">Layered</span>
<span class="w">        </span><span class="n">edgeNodeBetweenLayers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">40</span>
<span class="w">        </span><span class="n">nodeNodeBetweenLayers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">70</span>
<span class="w">        </span><span class="n">nodeSelfLoop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">50</span>
<span class="w">      </span><span class="p">}</span>

<span class="w">      </span><span class="n">tala</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// nothing yet!</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Defines the underlying engine used by D2 to organise the project nodes in each chart. <a href="https://d2lang.com/tour/layouts/">See this link in the D2 docs for more detailed information</a>. The available options are:</p>
<ul>
<li><strong>Dagre</strong>: default option.</li>
<li><strong>Elk</strong>: Framework from Eclipse for diagram generation - also supported by <a href="../usage-mermaid/">Mermaid</a>.</li>
<li><strong>Tala</strong>: Technically supported but it's closed source, so you need an installation of this engine on your machine from somewhere other than the public D2 installation. Only included here because it's in the D2 docs ¯_(ツ)_/¯. Since it's a private engine, I've no idea how it's supposed to look and I don't have an example screenshot for you. Sorry-not-sorry!</li>
</ul>
<p>Screenshots below are with all default settings.</p>
<div class="side-by-side">
  <figure>
    <figcaption>Dagre</figcaption>
    <img src="../img/d2-layoutEngine-dagre.svg" alt="Dagre">
  </figure>

  <figure>
    <figcaption>Elk</figcaption>
    <img src="../img/d2-layoutEngine-elk.svg" alt="Elk">
  </figure>
</div>

<h3 id="rootstyle">rootStyle<a class="headerlink" href="#rootstyle" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">rootStyle</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;white&quot;</span>
<span class="w">      </span><span class="n">fillPattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FillPattern</span><span class="p">.</span><span class="na">Grain</span>
<span class="w">      </span><span class="n">stroke</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;firebrick&quot;</span>
<span class="w">      </span><span class="n">strokeWidth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span>
<span class="w">      </span><span class="n">strokeDash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span>
<span class="w">      </span><span class="n">doubleBorder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>A set of style properties to be applied to the chart itself. The most common one in my experience is <code>fill</code>, which you can set to <code>transparent</code> or any other CSS color or hex string.</p>
<p><a href="https://d2lang.com/tour/style/#root">Check the D2 docs for the possible values of these properties</a>. All are optional.</p>
<h3 id="globalprops">globalProps<a class="headerlink" href="#globalprops" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">globalProps</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">arrowType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ArrowType</span><span class="p">.</span><span class="na">Circle</span>
<span class="w">      </span><span class="n">fillArrowHeads</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="w">      </span><span class="n">font</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Font</span><span class="p">.</span><span class="na">Mono</span>
<span class="w">      </span><span class="n">fontSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">15</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Style properties to be applied to all nodes (project shapes) and links by default, unless overridden by <code>linkTypes</code> or <code>projectTypes</code> config.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Be aware that <code>font</code> can only take the value <code>Mono</code>. If you want the default font, leave it alone or set to null.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>As a bonus, in <code>globalProps</code> you can also make use of D2's wonderfully-complicated "globs" feature to apply some style to all matching nodes/links in the chart. An example from the sample-d2 project in this repo, which sets all text on link labels to black:</p>
<div class="highlight"><pre><span></span><code><span class="n">atlas</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">d2</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">globalProps</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">put</span><span class="p">(</span><span class="s">&quot;(** -&gt; **)[*].style.font-color&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;black&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>I'm not going to document all this in here, but <a href="https://d2lang.com/tour/globs/">take a look at the D2 docs if you're interested</a>. If you want to add them to your chart, <code>globalProps</code> is probably(?) the best place for it. This will add the glob property to the global <code>classes.d2</code> file, which gets auto-imported into all project chart diagrams.</p>
</div>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="November 5, 2025 20:13:51 UTC">November 5, 2025</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="October 19, 2025 17:27:34 UTC">October 19, 2025</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../usage-graphviz/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Graphviz">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Graphviz
              </div>
            </div>
          </a>
        
        
          
          <a href="../usage-mermaid/" class="md-footer__link md-footer__link--next" aria-label="Next: Mermaid">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Mermaid
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Jon Poulton
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/jonapoul" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["content.code.copy", "content.code.select", "content.code.view", "navigation.expand", "navigation.footer", "navigation.tracking", "toc.follow"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>